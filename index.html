<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta http-equiv='X-UA-Compatible' content='ie=edge'>
  <title>Brewery Locator</title>
  <link rel='icon' href='assets/images/favicon.ico' type='image/x-icon'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/css/foundation.min.css'>
  <link rel='stylesheet' href='https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css'>
  <link rel='stylesheet' href='https://cdn.datatables.net/responsive/2.2.1/css/responsive.dataTables.min.css'>
  <link rel='stylesheet' type='text/css' href='assets/css/style.css'>
  <link href="https://fonts.googleapis.com/css?family=Cuprum|Chela+One" rel="stylesheet">
  <script src='https://www.gstatic.com/firebasejs/4.11.0/firebase.js'></script>
  <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
  <script type='text/javascript' src='https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js'></script>
  <script src="https://cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>
  <script src='https://cdn.datatables.net/rowreorder/1.2.3/js/dataTables.rowReorder.min.js'></script>
  <script src='assets/javascript/logic.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/js/foundation.min.js'></script>
</head>

<body>

  <!-- Header -->
  <header>
    <div data-sticky-container>
      <div class='top-bar high-nav'>
        <h1 class="app-title">beer.</h1>
      </div>
    </div>
    <h2 class="search-label">Enter a city here and find yourself some beer!</h2>
    <div class='input-group'>
      <input class='input-group-field' id='city-search' placeholder='Enter a city name here' type='text'>
      <div class='input-group-button'>
        <input type='submit' class='button' id='search-button' value='Find me beer!'>
      </div>
    </div>
    <div data-sticky-container>
      <div class='top-bar lower-nav'>
        <marquee id='beer-facts' scrollamount='8'>
          <!-- Inject jQuery beer facts here -->
        </marquee>
      </div>
    </div>
  </header>

  <div class='grid-container'>
    <div class='grid-x'>
      <div class='cell medium-12 small-12'>
        <!-- Begin BeerMapping results table -->
        <div class="card">
          <div class="card-section">
            <table id='beer-table' class='highlight responsive-table'>
              <thead>
                <tr>
                  <th></th>
                  <th>Brewery Name</th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th>Street Address</th>
                  <th>City</th>
                  <th>State</th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <!-- Call BeerMapping API and inject jQuery here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <!-- End BeerMapping results table, begin actual Google Map -->
      <div class='cell medium-12 small-12'>
        <input id="origin-input" class="controls" type="text" placeholder="Enter an origin location">
        <br>
        <input id="destination-input" class="controls" type="text" placeholder="Enter a destination location">

        <div id="mode-selector" class="controls">
          <input type="radio" name="type" id="changemode-walking" checked="checked">
          <label for="changemode-walking">Walking</label>

          <input type="radio" name="type" id="changemode-transit">
          <label for="changemode-transit">Transit</label>

          <input type="radio" name="type" id="changemode-driving">
          <label for="changemode-driving">Driving</label>
        </div>

        <div id="map"></div>

      </div>
      <!-- End Google Map, begin comments section -->
      <div class='cell medium-12 small-12'>
        <div class="card">
          <div class="card-section">
            <!-- Comments form --> 
            <form data-abide novalidate>
              <div data-abide-error class='alert callout' style='display: none'>
                <p>
                  <i class='fi-alert'></i> There are some errors in your form.</p>
              </div>
              <div class='row'>
                <div class='small-12 medium-12 columns'>
                  <label>Name
                    <input type='text' placeholder='Type Name' id='name' aria-describedby="exampleHelpText" required>
                    <span class='form-error'>
                      You should fill this field out...it's required.
                    </span>
                  </label>
                  <p class='help-text' id='exampleHelpText'>Here's how you use this input field...</p>
                </div>
                <div class='small-12 medium-12 columns'>
                  <label>Age
                    <input type='text' placeholder='1234' id='age' min='21' aria-describedby="exampleHelpText" required pattern='number'>
                    <span class='form-error'>
                      You should fill this field out...it's required. Also, this number must be above 21!
                    </span>
                  </label>
                  <p class='help-text' id='exampleHelpText'>Here's how you use this input field...</p>
                </div>
                <div class='small-12 medium-12 columns'>
                  <label>Comment
                    <textarea placeholder='Type your comment here!' id='comment' aria-describedby="exampleHelpText" required></textarea>
                    <span class='form-error'>
                      You should fill this field out...it's required.
                    </span>
                  </label>
                  <p class='help-text' id='exampleHelpText'>Here's how you use this input field...</p>
                </div>
                <div class="row">
                  <fieldset class="large-6 columns">
                    <button class="button" id='submit' type="submit" value="Submit">Submit</button>
                  </fieldset>
                </div>
              </div>
            </form>
          </div>
          <div class='cell medium-12 small-12'>
            <table id="input-comments">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Age</th>
                  <th>Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>




    </div>
  </div>
  <!-- End Foundation and begin Materialize -->
  <div>




    <script>
      // This example requires the Places library. Include the libraries=places
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          mapTypeControl: false,
          center: { lat: 39.742043, lng: -104.991531 },
          zoom: 13
        });
        new AutocompleteDirectionsHandler(map);
      }
      /**
       * @constructor
      */
      function AutocompleteDirectionsHandler(map) {
        this.map = map;
        this.originPlaceId = null;
        this.destinationPlaceId = null;
        this.travelMode = 'WALKING';
        var originInput = document.getElementById('origin-input');
        var destinationInput = document.getElementById('destination-input');
        var modeSelector = document.getElementById('mode-selector');
        this.directionsService = new google.maps.DirectionsService;
        this.directionsDisplay = new google.maps.DirectionsRenderer;
        this.directionsDisplay.setMap(map);
        var originAutocomplete = new google.maps.places.Autocomplete(
          originInput, { placeIdOnly: true });
        var destinationAutocomplete = new google.maps.places.Autocomplete(
          destinationInput, { placeIdOnly: true });
        this.setupClickListener('changemode-walking', 'WALKING');
        this.setupClickListener('changemode-transit', 'TRANSIT');
        this.setupClickListener('changemode-driving', 'DRIVING');
        this.setupPlaceChangedListener(originAutocomplete, 'ORIG');
        this.setupPlaceChangedListener(destinationAutocomplete, 'DEST');
        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(originInput);
        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(destinationInput);
        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(modeSelector);
      }
      // Sets a listener on a radio button to change the filter type on Places
      // Autocomplete.
      AutocompleteDirectionsHandler.prototype.setupClickListener = function (id, mode) {
        var radioButton = document.getElementById(id);
        var me = this;
        radioButton.addEventListener('click', function () {
          me.travelMode = mode;
          me.route();
        });
      };
      AutocompleteDirectionsHandler.prototype.setupPlaceChangedListener = function (autocomplete, mode) {
        var me = this;
        autocomplete.bindTo('bounds', this.map);
        autocomplete.addListener('place_changed', function () {
          var place = autocomplete.getPlace();
          if (!place.place_id) {
            window.alert("Please select an option from the dropdown list.");
            return;
          }
          if (mode === 'ORIG') {
            me.originPlaceId = place.place_id;
          } else {
            me.destinationPlaceId = place.place_id;
          }
          me.route();
        });
      };
      AutocompleteDirectionsHandler.prototype.route = function () {
        if (!this.originPlaceId || !this.destinationPlaceId) {
          return;
        }
        var me = this;
        this.directionsService.route({
          origin: { 'placeId': this.originPlaceId },
          destination: { 'placeId': this.destinationPlaceId },
          travelMode: this.travelMode
        }, function (response, status) {
          if (status === 'OK') {
            me.directionsDisplay.setDirections(response);
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
      };
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD05drdGt8PJ_HeqPeupTCof649sOQpNiI&libraries=places&callback=initMap"></script>
</body>

</html>